TODO: 

Add here, any pending tasks.
Then, when they are finished, move them to devjournal so that they get registered.

-------------------------
we need to clone the active local/remote media for each MediaEndpoint of type audio/video using inv->pool_prov.
(we might use this also to update AudioEndpoint mode)

Then when on_media_update happens, we should compare them with the new active local/remote media and if they differ, we should restart the media endpoint.

-------------------------
the scripts samples/mrcp_and_audio.js and samples/mrcp_and_audio_switching_order.js were frequently crashing at the same point (on pjmedia when writing RTP).
This was solved by adding a z.sleep(1000) before call.terminate(). It seems it is caused by call termination being done too soon after reinvite.
We should check if this problem existed before (it might be a problem we added with the new multiple_media implementation).

-------------------------
if 'media: []' or 'media: null' it means there is no media, so do not generate a body (content-length: 0)

-------------------------
create a sample script with automatic reply for INFO, OPTIONS etc.

-------------------------
review processing of SUBSCRIBE (SUBSCRIBE is a dialog-creating method, so we should be able to keep the subscription object and be able to send requests (INFO) for it.

-------------------------
set proper call to PJW_LOCK/PJW_UNLOCK in on_dtmf and on_inband_dtmf

-------------------------
if digit buffers have no more space, generate an error for the channel so that it doesn't get unnoticed.

-------------------------
update to use invite session's pools (https://docs.pjsip.org/en/latest/api/generated/pjsip/group/group__PJSIP__INV.html)

-------------------------
Currently when sending a body on a request/response, we are required to pass extra params ct_type and ct_subtype that pjsip will use to compose the Content-Type header.
This will be unusual for the script writers so it is better to expect the header Content-Type to be present when body is passed and obtain ct_type/ct_subtype from it internally to be passed to pjsip.

-------------------------
Disable pjw_call_refer. 
Instead REFER will be done by pjw_call_send_request as any other in-dialog request aside from BYE and CANCEL.

-------------------------
Permit to specify number of repetitions in start_play_wav (including infinite loop) and generate even when end of file is reached.

-------------------------
Check samples/register_subscribe.js msg flow:
There is an issue with notify being sent to itself by UAC (should have been sent by the UAS to the UAC):

              127.0.0.1:5090                127.0.0.1:5092  │Via: SIP/2.0/UDP 127.0.0.1:5090;rport;branch=z9hG4bKPjadf79a44-6914-4025-b1b9-f277aac2d4fd                                                    
          ──────────┬─────────          ──────────┬─────────│Max-Forwards: 70                                                                                                                              
  14:07:23.386208   │          SUBSCRIBE          │         │From: <sip:user1@test1.com>;tag=e7aa8818-1f78-4905-8b1b-009b63ec7e9e                                                                          
        +0.048537   │ ──────────────────────────> │         │To: <sip:user1@test1.com>                                                                                                                     
  14:07:23.434745   │           200 OK            │         │Contact: <sip:user1@127.0.0.1:5090>                                                                                                           
        +0.000157   │ <────────────────────────── │         │Call-ID: c596520a-2f8c-4efd-8dec-70348b125920                                                                                                 
  14:07:23.434902   │─┐ NOTIFY                    │         │CSeq: 25548 SUBSCRIBE                                                                                                                         
        +0.050352   │<┘                           │         │Route: <sip:127.0.0.1:5092;lr>                                                                                                                
  14:07:23.485254   │─┐ 200 OK                    │         │Event: dialog                                                                                                                                 
        +0.054625   │<┘                           │         │Expires: 120                                                                                                                                  
  14:07:23.539879   │─┐ NOTIFY                    │         │Supported: replaces, 100rel                                                                                                                   
        +0.046769   │<┘                           │         │Accept: application/dialog-info+xml                                                                                                           
  14:07:23.586648   │─┐ 200 OK                    │         │Allow-Events: refer, dialog                                                                                                                   
                    │<┘                           │         │Content-Length:  0                                                                                                                            
                    │                             │         │                                                                                                                                              
                    │                             │         │         
